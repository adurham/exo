# Project Rules

## Development & Package Management
1. **Package Management**: ALWAYS use `uv` for dependency management and running scripts.
   - `uv run <command>`
   - `uv pip install ...`
   - `uv sync`
2. **Virtual Environment**: NEVER access `.venv` directly (e.g., `.venv/bin/python` or `.venv/bin/pip`). Let `uv` manage the environment.

## Cluster Configuration
We are running a 3-node cluster:
1. **macstudio-m4**: Mac Studio M4 Max (128GB RAM)
2. **macbook-m4**: MacBook Pro M4 Max (36GB RAM)
3. **work-macbook-m4**: MacBook Pro M4 Pro (48GB RAM)

## Network Topology (Triangle)
- **Network A** (Studio <-> MB M4 Max): `192.168.201.x`
- **Network B** (Studio <-> MB M4 Pro): `192.168.202.x`
- **Network C** (MB M4 Max <-> MB M4 Pro): `192.168.205.x`
You MUST prioritize direct links (Network C) for worker-to-worker communication instead of routing through the Master.

## Networking
- **Interface Priority**: You MUST always use the Thunderbolt interfaces (and their IPs) when available.

## Resource Management
1. **No Hardcoded Limits**: Do NOT hardcode memory caps or node-specific logic (e.g. checking hostname) in the source code.
2. **Full Utilization**: The user prefers to utilize full system resources. Do not artificially cap memory unless explicitly instructed via configuration.
3. **No Auto-Instances**: Do NOT attempt to create instances or trigger model loads (via API or CLI) yourself. The user will handle this manual step.
